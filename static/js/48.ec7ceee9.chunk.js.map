{"version":3,"sources":["views/apps/ecommerce/wishlist/Wishlist.js"],"names":["axios","defaults","baseURL","Wishlist","state","items","data","handleItemsMove","i","item","console","log","user","JSON","parse","localStorage","getItem","idx","wishlist","findIndex","productId","alert","splice","postBody","_id","post","then","res","setItem","stringify","itemsArr","push","setState","componentWillMount","prod","body","products","resp","renderList","this","map","className","includes","key","to","src","image","alt","name","color","stars","size","price","by","desc","onClick","Fragment","breadCrumbTitle","breadCrumbParent","breadCrumbActive","length","React","Component"],"mappings":"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","file":"static/js/48.ec7ceee9.chunk.js","sourcesContent":["import React from 'react'\nimport { Card, CardBody, Badge } from 'reactstrap'\nimport { Star, X, ShoppingCart } from 'react-feather'\nimport { Link } from 'react-router-dom'\n//import { data } from './wishlistData'\nimport Breacrumbs from '../../../../components/@vuexy/breadCrumbs/BreadCrumb'\nimport '../../../../assets/scss/pages/app-ecommerce-shop.scss'\nimport axios from 'axios'\n//axios.defaults.baseURL = \"http://localhost:5000\";\naxios.defaults.baseURL = \"https://paragonheathcare.herokuapp.com\";\n\nclass Wishlist extends React.Component {\n  state = {\n    items: [],\n    data: []\n  }\n\n  handleItemsMove = (i,item) => {\n    console.log('aaaaaaas',item);\n    if(item){\n      let user =  JSON.parse(localStorage.getItem('logInUserData'))\n    const idx =user.wishlist.findIndex(i => i === item.productId);\n    alert(idx);\n    if(idx >= 0) {\n      user.wishlist.splice(idx, 1);\n    }\n    const postBody= {\n      _id: user._id,\n      wishlist: user.wishlist\n    }\n    axios.post('/paragon/api//update/user',postBody).then((res) => {\n     // console.log('ressssss', res.data);\n     // this.setState({data: res.data})\n    \n    \n    })\n    \n    localStorage.setItem('logInUserData',JSON.stringify(user));\n    //window.location.reload();\n    }\n    let itemsArr = this.state.items\n    itemsArr.push(i)\n    this.setState({\n      items: itemsArr\n    })\n  }\n  componentWillMount = () => {\n    const prod = JSON.parse(localStorage.getItem('logInUserData'))\n    const body = prod.wishlist ? prod.wishlist : []\n    console.log('body', body)\n    axios.post('paragon/api/products/get', { products: body }).then(resp => {\n      this.setState({data: resp.data});\n    });\n  }\n\n  render() {\n    const {data} = this.state;\n    let renderList = data.map((item, i) => {\n      return (\n        <Card\n          className={`ecommerce-card ${\n            this.state.items.includes(i) ? 'd-none' : ''\n          }`}\n          key={i}\n        >\n          <div className=\"card-content\">\n            <div className=\"item-img text-center\">\n              <Link to=\"/ecommerce/product-detail\">\n                <img className=\"img-fluid\" src={item.image ? item.image : 'https://i.pinimg.com/736x/da/1f/9e/da1f9e1050f1cc2cccc390a8c1b5aa40.jpg'} alt={item.name} />\n              </Link>\n            </div>\n            <CardBody>\n              <div className=\"item-wrapper\">\n                <div className=\"item-rating\">\n                  <Badge color=\"primary\" className=\"badge-md\">\n                    <span className=\"mr-50 align-middle\">{item.stars}</span>\n                    <Star size={14} />\n                  </Badge>\n                </div>\n                <div className=\"product-price\">\n                  <h6 className=\"item-price\">{item.price}</h6>\n                </div>\n              </div>\n              <div className=\"item-name\">\n                <Link to=\"/ecommerce/product-detail\">\n                  <span>{item.name}</span>\n                </Link>\n                <p className=\"item-company\">\n                  By <span className=\"company-name\">{item.by}</span>\n                </p>\n              </div>\n              <div className=\"item-desc\">\n                <p className=\"item-description\">{item.desc}</p>\n              </div>\n            </CardBody>\n            <div className=\"item-options text-center\">\n              <div className=\"item-wrapper\">\n                <div className=\"item-rating\">\n                  <Badge color=\"primary\" className=\"badge-md\">\n                    <span className=\"mr-50 align-middle\">{item.stars}</span>\n                    <Star size={14} />\n                  </Badge>\n                </div>\n                <div className=\"product-price\">\n                  <h6 className=\"item-price\">{item.price}</h6>\n                </div>\n              </div>\n              <div className=\"wishlist\" onClick={() => this.handleItemsMove(i,item)}>\n                <X size={15} />\n                <span className=\"align-middle ml-50\">Remove</span>\n              </div>\n              <div className=\"cart\" onClick={() => this.handleItemsMove(i)}>\n                <ShoppingCart size={15} />\n                <span className=\"align-middle ml-50\">Move To Cart</span>\n              </div>\n            </div>\n          </div>\n        </Card>\n      )\n    })\n    return (\n      <React.Fragment>\n        <Breacrumbs\n          breadCrumbTitle=\"Wish List\"\n          breadCrumbParent=\"eCommerce\"\n          breadCrumbActive=\"Wishlist\"\n        />\n        <div className=\"ecommerce-application\">\n          <div className=\"grid-view wishlist-items\">{renderList.length > 0 ? renderList : 'No items in Wishlist'}</div>\n        </div>\n      </React.Fragment>\n    )\n  }\n}\nexport default Wishlist\n"],"sourceRoot":""}